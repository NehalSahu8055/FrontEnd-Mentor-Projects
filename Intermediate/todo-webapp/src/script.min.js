const checkboxes=document.querySelectorAll('.inbox input[type="checkbox"]'),noteInputForm=document.querySelectorAll(".inbox form"),inbox=document.querySelector(".inbox"),completedTasks=document.querySelector(".completed-tasks"),tools=document.querySelectorAll(".tool-tray button"),tasks=document.querySelector(".tasks"),completedTasksButton=document.querySelector(".c-tasks");let totalTools=tools.length;const addGlobalEventListener=(e,t,s)=>{document.addEventListener(e,e=>{e.target.matches(t)&&s(e)})},modeChange=()=>{let e=document.body.classList;e.contains("bg-[url(./images/bg.jpg)]")?e.replace("bg-[url(./images/bg.jpg)]","bg-[url(./images/bg-dark.jpg)]"):e.replace("bg-[url(./images/bg-dark.jpg)]","bg-[url(./images/bg.jpg)]")},addTasks=()=>{inbox.innerHTML+=`<div
    class="item saturate-[90%] flex items-center rounded-lg border-b border-b-[#f1f1f1] backdrop-blur-xl transition-opacity duration-500"
  >
    <input class="m-5" type="checkbox" />
    <div
      class="px-3 text-white flex-1 transition-[background] text-lg font-extralight border-l border-l-[#d1e2ff]"
    >
      <form class="form-input flex items-center relative">
        <input
          class="bg-transparent flex basis-[20rem] text-white focus:outline-none placeholder-[#FDE5EC]"
          type="text"
          placeholder="Add a note here"
        />
        <button
          type="submit"
          class="absolute right-0 rounded-r-sm transition-all duration-300 hover:opacity-80"
        >
          <img src="./images/done.svg" />
        </button>
      </form>
    </div>
  </div>`},allDoneTasks=e=>{document.querySelectorAll('input[type="checkbox"]').forEach(t=>{toggleStrikeThrough(t,e)})},resetTasks=()=>{inbox.innerHTML="",completedTasks.innerHTML="",localStorage.clear()};let getCheckedTasks=()=>{document.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.checked&&(completedTasks.appendChild(e.parentElement),localStorage.setItem("add-tasks",inbox.innerHTML),localStorage.setItem("completed-tasks",completedTasks.innerHTML))})};tasks.addEventListener("click",()=>{completedTasks.classList.add("hidden"),completedTasksButton.classList.remove("border-b-white"),tasks.classList.add("border-b-white"),tasks.classList.add("opacity-100"),inbox.classList.remove("hidden")}),completedTasksButton.addEventListener("click",()=>{completedTasks.classList.remove("hidden"),completedTasksButton.classList.add("border-b-white"),completedTasksButton.classList.add("opacity-100"),tasks.classList.remove("opacity-100"),tasks.classList.remove("border-b-white"),inbox.classList.add("hidden"),getCheckedTasks()});const getTool=e=>{switch(e){case 0:modeChange();break;case 1:addTasks();break;case 2:resetTasks()}};for(let i=0;i<tools.length;i++)tools[i].addEventListener("click",()=>getTool(i));const formCallback=e=>{e.preventDefault();let t=e.target.firstElementChild.value;e.target.parentElement.innerHTML=t,localStorage.setItem("add-tasks",inbox.innerHTML),localStorage.setItem("completed-tasks",completedTasks.innerHTML)};addGlobalEventListener("submit","form",formCallback);const toggleCheckBox=e=>{e.checked?e.checked=!1:e.checked=!0},toggleStrikeThrough=(e,t)=>{let s=e.nextElementSibling;s.classList.toggle("line-through"),e!=t&&toggleCheckBox(e)};addGlobalEventListener("change",'input[type="checkbox"]',e=>{toggleStrikeThrough(e.target,e.target)});let lastChecked;const handleCheckCallback=e=>{let t=!1,s=e.target;e.shiftKey&&e.target.checked&&document.querySelectorAll('input[type="checkbox"]').forEach(a=>{(a===e.target||a===lastChecked)&&(t=!t),t&&(a.checked=!0),a.checked&&a!=s&&a!=lastChecked&&toggleStrikeThrough(a,a)}),lastChecked=e.target};addGlobalEventListener("click",'input[type="checkbox"]',handleCheckCallback),window.onload=()=>{inbox.innerHTML=localStorage.getItem("add-tasks"),completedTasks.innerHTML=localStorage.getItem("completed-tasks")};